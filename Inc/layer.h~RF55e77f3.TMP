#ifndef __LAYER_H
#define __LAYER_H

extern "C" {
	#include "stm32f4xx_hal.h"
	#include <math.h>
}

#include "fonts.h"

#define LAYER_WIDTH 128
#define LAYER_HEIGHT 64

typedef struct Bitmap {
	bool pixels[128][64];
} Bitmap;

class Layer {
	public:	
		Layer();
		~Layer();
		
		Bitmap& getBitmap();
		void drawPoint(uint8_t x, uint8_t y, bool set);
		void drawLine(uint8_t x1, uint8_t y1, uint8_t x2, uint8_t y2, bool set);
		void drawRect(uint8_t x1, uint8_t y1, uint8_t x2, uint8_t y2, bool filled, bool set);
		void drawCircle(uint8_t centerX, uint8_t centerY, uint8_t radius, bool set);
		
		void drawString(const char* str, uint8_t xChar, uint8_t yChar, bool set);
		
		void cleanScreen(void);
	
		bool isOnScreen(void);
		void setOnScreen(bool onScreen);
	
	private:
		Bitmap m_bitmap;
		bool m_onScreen;
	
};

#endif
